/* Pokemon Card Holographic Effect - Inspired by poke-holo.simey.me */

:root {
  --pointer-x: 50;
  --pointer-y: 50;
  --background-x: 50;
  --background-y: 50;
}

.pokemon-card {
  --card-radius: 12px;
  
  position: relative;
  border-radius: var(--card-radius);
  transform-style: preserve-3d;
  perspective: 1000px;
  cursor: pointer;
  will-change: transform;
  z-index: 1;
}

.pokemon-card:hover {
  z-index: 10;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  border-radius: var(--card-radius);
  overflow: hidden;
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 10px 40px -10px rgba(0, 0, 0, 0.5),
    0 20px 60px -20px rgba(0, 0, 0, 0.3);
  transform-style: preserve-3d;
}

.card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: var(--card-radius);
}

/* ==================== SHINE EFFECT ==================== */
.card-shine {
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  mix-blend-mode: color-dodge;
  background: 
    linear-gradient(
      115deg,
      transparent 0%,
      transparent 25%,
      rgba(255, 255, 255, 0.6) 45%,
      rgba(255, 255, 255, 0.9) 50%,
      rgba(255, 255, 255, 0.6) 55%,
      transparent 75%,
      transparent 100%
    );
  background-size: 250% 250%;
  background-position: calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  filter: brightness(0.8) contrast(1.2);
}

.pokemon-card.interacting .card-shine,
.pokemon-card:hover .card-shine {
  opacity: 0.7;
}

/* ==================== GLARE EFFECT ==================== */
.card-glare {
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  background: radial-gradient(
    farthest-corner circle at calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
    rgba(255, 255, 255, 0.8) 10%,
    rgba(255, 255, 255, 0.5) 20%,
    rgba(0, 0, 0, 0.1) 90%
  );
  mix-blend-mode: overlay;
}

.pokemon-card.interacting .card-glare,
.pokemon-card:hover .card-glare {
  opacity: 0.5;
}

/* ==================== HOLO RAINBOW EFFECT ==================== */
.card-holo {
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
  background: 
    repeating-linear-gradient(
      0deg,
      rgb(255, 119, 115) calc(5% * 1),
      rgba(255, 237, 95, 0.8) calc(5% * 2),
      rgba(168, 255, 95, 0.8) calc(5% * 3),
      rgba(131, 255, 247, 0.8) calc(5% * 4),
      rgba(120, 148, 255, 0.8) calc(5% * 5),
      rgb(216, 117, 255) calc(5% * 6),
      rgb(255, 119, 115) calc(5% * 7)
    ),
    repeating-linear-gradient(
      133deg,
      #0e152e 0%,
      hsl(180, 10%, 60%) 3.8%,
      hsl(180, 29%, 66%) 4.5%,
      hsl(180, 10%, 60%) 5.2%,
      #0e152e 10%,
      #0e152e 12%
    ),
    radial-gradient(
      farthest-corner ellipse at calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
      rgba(255, 255, 255, 0.2) 10%,
      rgba(255, 255, 255, 0.1) 20%,
      rgba(0, 0, 0, 0.4) 90%
    );
  background-blend-mode: color-dodge, color-burn, normal;
  background-size: 
    200% 700%,
    300% 100%,
    200% 200%;
  background-position: 
    0% calc((var(--background-y) - 50) * 0.5% + 50%),
    calc((var(--background-x) - 50) * -0.5% + 50%) calc((var(--background-y) - 50) * 0.5% + 50%),
    calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  mix-blend-mode: color-dodge;
  filter: brightness(0.7) contrast(2.5) saturate(1.5);
}

.pokemon-card.rare.interacting .card-holo,
.pokemon-card.rare:hover .card-holo,
.pokemon-card.double-rare.interacting .card-holo,
.pokemon-card.double-rare:hover .card-holo,
.pokemon-card.art-rare.interacting .card-holo,
.pokemon-card.art-rare:hover .card-holo,
.pokemon-card.super-rare.interacting .card-holo,
.pokemon-card.super-rare:hover .card-holo,
.pokemon-card.crown.interacting .card-holo,
.pokemon-card.crown:hover .card-holo,
.pokemon-card.immersive.interacting .card-holo,
.pokemon-card.immersive:hover .card-holo {
  opacity: 0.6;
}

/* ==================== SPARKLE EFFECT ==================== */
.card-sparkle {
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"),
    repeating-linear-gradient(
      133deg,
      rgba(255, 255, 255, 0.2) 0%,
      rgba(255, 255, 255, 0.5) 1%,
      rgba(255, 255, 255, 0.2) 2%
    );
  background-size: 
    60% 60%,
    200% 400%;
  background-position: 
    calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
    calc((var(--background-x) - 50) * -1% + 50%) calc((var(--background-y) - 50) * -1% + 50%);
  background-blend-mode: overlay;
  mix-blend-mode: color-dodge;
  filter: brightness(1) contrast(1.5);
}

.pokemon-card.super-rare.interacting .card-sparkle,
.pokemon-card.super-rare:hover .card-sparkle,
.pokemon-card.crown.interacting .card-sparkle,
.pokemon-card.crown:hover .card-sparkle,
.pokemon-card.immersive.interacting .card-sparkle,
.pokemon-card.immersive:hover .card-sparkle {
  opacity: 0.8;
}

/* ==================== ART RARE SPECIFIC ==================== */
.pokemon-card.art-rare .card-holo {
  background: 
    repeating-linear-gradient(
      45deg,
      rgba(255, 119, 115, 0.7) calc(5% * 1),
      rgba(255, 237, 95, 0.7) calc(5% * 2),
      rgba(168, 255, 95, 0.7) calc(5% * 3),
      rgba(131, 255, 247, 0.7) calc(5% * 4),
      rgba(120, 148, 255, 0.7) calc(5% * 5),
      rgba(216, 117, 255, 0.7) calc(5% * 6),
      rgba(255, 119, 115, 0.7) calc(5% * 7)
    ),
    repeating-linear-gradient(
      -45deg,
      rgba(255, 119, 115, 0.5) calc(5% * 1),
      rgba(255, 237, 95, 0.5) calc(5% * 2),
      rgba(168, 255, 95, 0.5) calc(5% * 3),
      rgba(131, 255, 247, 0.5) calc(5% * 4),
      rgba(120, 148, 255, 0.5) calc(5% * 5),
      rgba(216, 117, 255, 0.5) calc(5% * 6),
      rgba(255, 119, 115, 0.5) calc(5% * 7)
    ),
    radial-gradient(
      farthest-corner ellipse at calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
      rgba(255, 255, 255, 0.3) 10%,
      transparent 60%
    );
  background-blend-mode: color-dodge, color-burn, normal;
  background-size: 
    300% 300%,
    200% 200%,
    150% 150%;
  background-position: 
    calc((var(--background-x) - 50) * 0.8% + 50%) calc((var(--background-y) - 50) * 0.8% + 50%),
    calc((var(--background-x) - 50) * -0.6% + 50%) calc((var(--background-y) - 50) * -0.6% + 50%),
    calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  filter: brightness(0.8) contrast(2) saturate(1.3);
}

/* ==================== CROWN RARITY SPECIAL ==================== */
.pokemon-card.crown .card-holo {
  background: 
    conic-gradient(
      from calc(var(--pointer-x) * 3.6deg),
      rgba(255, 215, 0, 0.8),
      rgba(255, 180, 50, 0.5),
      rgba(255, 255, 150, 0.8),
      rgba(255, 180, 50, 0.5),
      rgba(255, 215, 0, 0.8)
    ),
    radial-gradient(
      farthest-corner circle at calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
      rgba(255, 255, 255, 0.9) 0%,
      rgba(255, 215, 0, 0.4) 30%,
      transparent 70%
    );
  background-blend-mode: overlay, normal;
  background-size: 150% 150%, 200% 200%;
  background-position: 
    50% 50%,
    calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  filter: brightness(1) contrast(1.5) saturate(1.5);
  mix-blend-mode: overlay;
}

.pokemon-card.crown.interacting .card-holo,
.pokemon-card.crown:hover .card-holo {
  opacity: 0.8;
}

.pokemon-card.crown .card-sparkle {
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255, 215, 0, 1) 0%, transparent 4%),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 200, 1) 0%, transparent 3%),
    radial-gradient(circle at 40% 70%, rgba(255, 215, 0, 1) 0%, transparent 3.5%),
    radial-gradient(circle at 70% 60%, rgba(255, 255, 200, 1) 0%, transparent 3%),
    radial-gradient(circle at 30% 50%, rgba(255, 215, 0, 1) 0%, transparent 2.5%),
    radial-gradient(circle at 60% 40%, rgba(255, 255, 200, 1) 0%, transparent 3%),
    radial-gradient(circle at 85% 75%, rgba(255, 215, 0, 1) 0%, transparent 3.5%),
    radial-gradient(circle at 15% 85%, rgba(255, 255, 200, 1) 0%, transparent 3%);
  background-size: 100% 100%;
  background-position: 
    calc(var(--pointer-x) * 0.2%) calc(var(--pointer-y) * 0.2%);
  mix-blend-mode: screen;
  animation: crown-sparkle 3s ease-in-out infinite;
}

@keyframes crown-sparkle {
  0%, 100% { 
    opacity: 0.6;
    filter: brightness(1);
  }
  50% { 
    opacity: 1;
    filter: brightness(1.3);
  }
}

/* ==================== IMMERSIVE RARITY ==================== */
.pokemon-card.immersive .card-holo {
  background: 
    linear-gradient(
      125deg,
      rgba(0, 231, 255, 0.5) 0%,
      rgba(255, 0, 231, 0.5) 25%,
      rgba(255, 231, 0, 0.5) 50%,
      rgba(0, 255, 150, 0.5) 75%,
      rgba(0, 231, 255, 0.5) 100%
    ),
    radial-gradient(
      farthest-corner ellipse at calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%),
      rgba(255, 255, 255, 0.6) 0%,
      transparent 50%
    );
  background-size: 400% 400%, 200% 200%;
  background-position: 
    calc(var(--background-x) * 1%) calc(var(--background-y) * 1%),
    calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  filter: brightness(0.9) contrast(1.8) saturate(1.5);
  animation: immersive-flow 8s ease-in-out infinite;
}

@keyframes immersive-flow {
  0%, 100% { 
    background-position: 
      0% 0%,
      calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  }
  50% { 
    background-position: 
      100% 100%,
      calc(var(--pointer-x) * 1%) calc(var(--pointer-y) * 1%);
  }
}

/* ==================== RARITY BORDER GLOW ==================== */
.pokemon-card.rare .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 25px rgba(255, 200, 50, 0.4),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

.pokemon-card.double-rare .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 35px rgba(255, 100, 200, 0.5),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

.pokemon-card.art-rare .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 35px rgba(100, 200, 255, 0.5),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

.pokemon-card.super-rare .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 45px rgba(150, 100, 255, 0.6),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

.pokemon-card.crown .card-inner {
  box-shadow: 
    0 0 0 2px rgba(255, 215, 0, 0.6),
    0 0 60px rgba(255, 215, 0, 0.6),
    0 0 120px rgba(255, 215, 0, 0.3),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

.pokemon-card.immersive .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.2),
    0 0 50px rgba(100, 255, 200, 0.5),
    0 0 100px rgba(255, 100, 255, 0.3),
    0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

/* ==================== INTERACTING STATE ==================== */
.pokemon-card.interacting .card-inner {
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.2),
    0 20px 60px -10px rgba(0, 0, 0, 0.4),
    0 30px 80px -20px rgba(0, 0, 0, 0.3);
}
